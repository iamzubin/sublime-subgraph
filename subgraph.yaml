specVersion: 0.0.2
description: Sublime Finance Subgraph
repository: https://github.com/sublime-finance/sublime-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: CreditLine
    network: kovan
    source:
      address: "0xD077B6d3ed11d0aDD036D7d9b1Ac9d4FdE561fF4"
      abi: CreditLine
      startBlock: 28282173
    mapping:
      kind: ethereum/eventHandlers
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/CreditLine.ts
      entities:
        - CreditLine
        - CreditLineGlobalParam
      abis:
        - name: CreditLine
          file: ./abis/CreditLine.json
      eventHandlers:
        - event: BorrowedFromCreditLine(indexed uint256,uint256)
          handler: handleBorrowedFromCreditLine
        - event: CompleteCreditLineRepaid(indexed uint256,uint256)
          handler: handleCompleteCreditLineRepaid
        - event: CreditLineAccepted(indexed uint256)
          handler: handleCreditLineAccepted
        - event: CreditLineClosed(indexed uint256)
          handler: handleCreditLineClosed
        - event: CreditLineLiquidated(indexed uint256,indexed address)
          handler: handleCreditLineLiquidated
        - event: CreditLineRequested(indexed uint256,indexed address,indexed address)
          handler: handleCreditLineRequested
        - event: CreditLineReset(indexed uint256)
          handler: handleCreditLineReset
        - event: DefaultStrategyUpdated(indexed address)
          handler: handleDefaultStrategyUpdated
        - event: LiquidationRewardFractionUpdated(uint256)
          handler: handleLiquidationRewardFractionUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: PartialCreditLineRepaid(indexed uint256,uint256)
          handler: handlePartialCreditLineRepaid
        - event: PriceOracleUpdated(indexed address)
          handler: handlePriceOracleUpdated
        - event: ProtocolFeeCollectorUpdated(indexed address)
          handler: handleProtocolFeeCollectorUpdated
        - event: ProtocolFeeFractionUpdated(uint256)
          handler: handleProtocolFeeFractionUpdated
        - event: SavingsAccountUpdated(indexed address)
          handler: handleSavingsAccountUpdated
        - event: StrategyRegistryUpdated(indexed address)
          handler: handleStrategyRegistryUpdated
  - kind: ethereum/contract
    name: StrategyRegistry
    network: kovan
    source:
      address: "0x9Af5CaF81b9985cB691f7763b7bE0412bb05b3dC"
      abi: StrategyRegistry
      startBlock: 
    mapping:
      kind: ethereum/eventHandlers
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/StrategyRegistry.ts
      entities:
        - StrategyRegistry
        - Strategy
      abis:
        - name: StrategyRegistry
          file: ./abis/StrategyRegistry.json
      eventHandlers:
        - event: StrategyAdded(indexed address)
          handler: handleStrategyAdded
        - event: StrategyRemoved(indexed address)
          handler: handleStrategyRemoved
        - event: MaxStrategiesUpdated(uint256)
          handler: handleMaxStrategiesUpdated